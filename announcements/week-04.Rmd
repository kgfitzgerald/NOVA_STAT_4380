---
title: "Week 04"
subtitle: "Data wrangling II"
output: 
  prettydoc::html_pretty:
    theme: hpstr
    highlight: github
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Thursday announcements

+ Project brainstorm due today
+ Choose your partner by Tuesday class-time - email me your choice
+ Project proposal will be due Saturday Feb 21
+ Next two weeks, the Lecture Recording on Perusall will include short readings from Communicating with Data: The Art of Writing For Data Science
    + For next week, there is ~30 minutes of lecture + ~15pages


### Tidyverse style guidelines

[Tidyverse style guidelines](https://style.tidyverse.org/pipes.html) for line breaks, white space, etc.

1.  Have space before `|>` and a linebreak after

```{r, eval = FALSE}
# Good
iris |>
  group_by(Species) |>
  summarize_if(is.numeric, mean) |>
  ungroup() |>
  gather(measure, value, -Species) |>
  arrange(value)

# Bad
iris |> group_by(Species) |> summarize_all(mean) |>
ungroup |> gather(measure, value, -Species) |>
arrange(value)
```

2.  `ggplot()` layers each go on their own line, space before `+`, all but first layer indented.

```{r, eval = FALSE}
# Good
ggplot(aes(x = Sepal.Width, y = Sepal.Length, color = Species)) +
  geom_point() +
  labs(
    x = "Sepal width, in cm",
    y = "Sepal length, in cm",
    title = "Sepal length vs. width of irises"
  ) 

# Bad
ggplot(aes(x = Sepal.Width, y = Sepal.Length, color = Species))+
  geom_point() + labs(x = "Sepal width, in cm", y = "Sepal length, in cm", title = "Sepal length vs. width of irises") 
```

3.  If arguments to a function don't fit on one line, put each argument on its own line

```{r, eval = FALSE}
iris |>
  group_by(Species) |>
  summarise(
    Sepal.Length = mean(Sepal.Length),
    Sepal.Width = mean(Sepal.Width),
    Species = n_distinct(Species)
  )

iris |>
  group_by(Species) |>
  summarise(Sepal.Length = mean(Sepal.Length),
            Sepal.Width = mean(Sepal.Width),
            Species = n_distinct(Species))
```

4.  Spaces on each side of all operators (e.g. `+, =, &, <-,`) and after commas

```{r, eval = FALSE}
# Good
iris |> 
  mutate(ratio = Sepal.Length/Sepal.Width) |> 
  ggplot(aes(x = Sepal.Width, y = Sepal.Length)) +
  geom_point()

# Bad
iris|> 
  mutate(ratio=Sepal.Length/Sepal.Width) |> 
  ggplot(aes(x=Sepal.Width,y = Sepal.Length)) +
  geom_point()
```



### Data Scientist of the Week

[Mike Dairyko](https://hardin47.github.io/CURV/scholars/dairyko.html)

<!-- ### Thursday announcements -->

<!-- + Lab 03 due now -->
<!-- + P01 Project Brainstorm due tonight -->
<!-- + Stats Experience points due Saturday -->
<!-- + P02 - Choose Project Groups due by Tuesday classtime -->
<!-- + in-class exam next Thursday + take-home handed out -->
<!--     + know the `dplyr` verbs and what they do -->
<!--     + know the general format of `ggplot()` code, and what visualizations are appropriate for which variable types -->
<!--     + when given a data context and a visualization or table, be able to describe (or fill in the blanks) what code is necessary for producing that result -->
<!--     + when given a data context & research question, be able to describe a strategy / write psuedo-code for how to wrangle / visualize that code to answer the research question -->
<!--     + when given a series of code w/ pipe operators, be able to describe what each line is doing and how it changes the dimensions of the data -->

<!-- ### Quotes on rest / Sabbath -->

<!-- + "Once people feel nourished and refreshed, they cannot help but be kind; just so, the world aches for the generosity of a well-rested people." - Wayne Muller -->

<!-- + "Some of my best thoughts are generated in the stillness of Sabbath keeping, and I frequently experience sudden moments of more complete understanding because resting my mind renews it and because I can think more organically when my thinking isn't forced." - Marva Dawn -->

<!-- + "We are drawn to the words of Jesus about abundant life and his peace that passes understanding, but often we don't know how to access them. The Sabbath is a concrete way to start, a practical and ancient solution to an enduring human need." - Lynne M. Baab -->

<!-- + "I discovered that Sabbath isn't about what is done or left undone as much as breathing in the goodness of God. The more I inhaled, the more I desired another long breath" - Margaret Feinberg -->

<!-- + "Sabbath keeping is a discipline that will mess with you, because once you move beyond just thinking about it and actually begin to practice it, the goodness of it will capture you, body, soul, and spirit" - Ruth Haley Barton -->

<!-- + "If you don't take a Sabbath, something is wrong. You're doing too much, you're being too much in charge. You've got to quit, one day a week, and just watch what God is doing when you're not doing anything." - Eugene H. Peterson -->

<!-- + "Sabbath reminds us that we are loved for who we are, not for what we can produce... Sabbath does not exist for what it gives us, nor for how it helps us, but for the way it equips us to live into our truest identities. We are not 'human doings' but 'human beings'." - David Lomas -->

<!-- <!-- ### Thursday Announcements --> 

<!-- <!-- -   2 Stats Experience Points due Saturday --> 
<!-- <!-- -   Sign up for project groups on Blackboard by class-time on Tuesday --> 
<!-- <!--     -   choose your own groups of 2 --> 
<!-- <!--     -   who will you work well with? --> 
<!-- <!--     -   who do you have common (data) interests with? Check out initial Campuswire responses --> 

<!-- <!-- What's ahead: --> 

<!-- <!-- -   Weeks 1 - 4, foundational coding techniques --> 
<!-- <!-- -   Weeks 5 - 7, Exam/Start Projects/Ethics --> 
<!-- <!-- -   Weeks 8 - 11, statistical analysis techniques --> 
<!-- <!-- -   Weeks 12 - 15, communicating results / Projects --> 
<!-- <!-- -   Only 4 more labs (after Lab 04), 7 project work sessions --> 

<!-- <!-- ![](images/MATH_talk_Byrant.png) -->

### Tuesday Announcements

Due Thursday: Lab 03, Project Brainstorm post, Annotations


Once again, thanks for great engagement on Annotations
  
  + PS, I consider this one of the most important parts of the class!
  + I'm curating a lot of the questions you're raising, and we'll have time to discuss them more in depth in Week 8 
  + From your peers:
    
    + “Although a data scientists job may be mostly done behind a screen, it can be jarring to think about the true affect that their discoveries can have on the average human being. As intertwined as our cultural, political, and economic systems are, I believe that data science is equally as important to consider from a wider point of view.”
    + “The smartest technical people aren't necessarily the ones who are in charge of social change (they have different skillsets and jobs). The problem is we have people making models who do not have an obligation to know about the social impacts.”
  + Does Villanova have a data ethics course?     
    

### Questions?

Will all the quizzes be one week behind after missing the first quiz? 

> Let's take a vote! 

1) quizzes cover new material covered in lecture videos & Tuesday AE 

2) quizzes cover material from the previous week, so you've had more time practicing on the lab

Can we work on the project independently?

> Short answer, no.

> Longer answer: there's a few reasons for this:

1. Data science is collaborative in most workplaces
2. Especially in light of many of the readings, it's important to have multiple people speak into an analysis. We all have blind spots - collaboration & intentionaly seeking feedback make us better!
3. Less important substantively, but helpful logistically: having less groups will allow us to NOT have to say here until May 11 :) 

Who are you rooting for in the super bowl? 

### Application Exercise

-   The remainder of class will be spent on AE-04.
-   You can access it from GitHub.
-   It is due at the end of class today.
-   To turn it in, you should upload your .html file to Blackboard.


### Tidyverse style guidelines

[Tidyverse style guidelines](https://style.tidyverse.org/pipes.html) for line breaks, white space, etc.

1.  Have space before `|>` and a linebreak after

```{r, eval = FALSE}
# Good
iris |>
  group_by(Species) |>
  summarize_if(is.numeric, mean) |>
  ungroup() |>
  gather(measure, value, -Species) |>
  arrange(value)

# Bad
iris |> group_by(Species) |> summarize_all(mean) |>
ungroup |> gather(measure, value, -Species) |>
arrange(value)
```

2.  `ggplot()` layers each go on their own line, space before `+`, all but first layer indented.

```{r, eval = FALSE}
# Good
ggplot(aes(x = Sepal.Width, y = Sepal.Length, color = Species)) +
  geom_point() +
  labs(
    x = "Sepal width, in cm",
    y = "Sepal length, in cm",
    title = "Sepal length vs. width of irises"
  ) 

# Bad
ggplot(aes(x = Sepal.Width, y = Sepal.Length, color = Species))+
  geom_point() + labs(x = "Sepal width, in cm", y = "Sepal length, in cm", title = "Sepal length vs. width of irises") 
```

3.  If arguments to a function don't fit on one line, put each argument on its own line

```{r, eval = FALSE}
iris |>
  group_by(Species) |>
  summarise(
    Sepal.Length = mean(Sepal.Length),
    Sepal.Width = mean(Sepal.Width),
    Species = n_distinct(Species)
  )

iris |>
  group_by(Species) |>
  summarise(Sepal.Length = mean(Sepal.Length),
            Sepal.Width = mean(Sepal.Width),
            Species = n_distinct(Species))
```

4.  Spaces on each side of all operators (e.g. `+, =, &, <-,`) and after commas

```{r, eval = FALSE}
# Good
iris |> 
  mutate(ratio = Sepal.Length/Sepal.Width) |> 
  ggplot(aes(x = Sepal.Width, y = Sepal.Length)) +
  geom_point()

# Bad
iris|> 
  mutate(ratio=Sepal.Length/Sepal.Width) |> 
  ggplot(aes(x=Sepal.Width,y = Sepal.Length)) +
  geom_point()
```

